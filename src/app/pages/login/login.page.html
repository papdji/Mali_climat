<ion-header>
  <ion-toolbar class='bg_transp' lines="none">
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/tabs"></ion-back-button>
    </ion-buttons>
    <ion-title class="ion-text-center">Se connecter</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-card>
    <ion-card-content>
      <strong>En vous connectant vous accepter <a class="sign-up-link" routerLink="/conditions">les conditions d'utilisation</a></strong>
      <ion-button class="ion-margin" color="success" expand='block' (click)="signWithGoogle()">
        <ion-icon name="logo-google"></ion-icon>
        <span class="ion-margin">Google</span>
      </ion-button>
      <strong>N'avez - vous pas de compte ? </strong>
    </ion-card-content>
  </ion-card>

  <ion-button class="ion-margin" color="primary" expand="full" id="s'inscrire" style="left: auto; size: 25px;">
    S'inscrire
  </ion-button>
  <ion-modal trigger="s'inscrire" [initialBreakpoint]="0.8" [breakpoints]="[0, 0.8, 1]">
    <ng-template>
      <ion-header>
        <ion-toolbar color="success">
          <ion-title style="font-size: large;">
            s'inscrire
          </ion-title>
        </ion-toolbar>
      </ion-header>
      <ion-content>
        <ion-card>
          <ion-card-content>

            <form class="ion-margin" #data="ngForm" (ngSubmit)="signInWithPhone(data)" *ngIf="!confirmationResult">
              <ion-item class=" ion-no-padding" lines="none">
                <ion-label position="floating" color="primary" autofocus>Prénom</ion-label>
                <ion-input type="text" name="firstName" placeholder="Prénom" ngModel required></ion-input>
              </ion-item>
              <ion-item class=" ion-no-padding" lines="none">
                <ion-label position="floating" color="primary">Nom</ion-label>
                <ion-input type="text" name="lastName" placeholder="Nom" ngModel required></ion-input>
              </ion-item>
              <ion-item lines="none">
                <ion-label position="floating" size="large" color="primary">+223</ion-label>
                <ion-input type="text" name="phone" ngModel required></ion-input>
              </ion-item>
              <ion-button color="primary" type="submit" expand="block">S'inscrire</ion-button>
              <div id='sign-in-button'></div>
            </form>

            <form #code="ngForm" (ngSubmit)="checkConfirmationCode(code)" *ngIf="confirmationResult">
              <ion-item class="ion-margin" lines="none">
                <ion-label position="floating">Code de verification</ion-label>
                <ion-input type="text" name="code" placeholder="Code de verification" ngModel autofocus></ion-input>
              </ion-item>
              <ion-button type="submit" color="primary" expand="block" max="6">Verifier</ion-button>
            </form>
          </ion-card-content>
        </ion-card>
      </ion-content>
    </ng-template>
  </ion-modal>
  <ion-button expand="block" routerLink="/profile">Profile</ion-button>
</ion-content>
